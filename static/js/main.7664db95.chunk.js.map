{"version":3,"sources":["sprites/dog-still.png","sprites/dog-little.png","worker.js","App.js","deep-copy.js","sudoku.js","db.js","LittleDog.js","Dog.js","DogController.js","Game.js","UnsolvedList.js","serviceWorker.js","index.js"],"names":["module","exports","Worker","ButtonLink","props","disabled","className","children","to","style","textDecoration","App","state","difficulty","window","localStorage","getItem","event","target","value","this","setState","setItem","currentId","src","dog_image","alt","type","id","step","defaultValue","onChange","onDifficultyChanged","bind","React","Component","deepCopy","arr","copy","forEach","elem","Array","isArray","push","deepCopyObject","obj","tempObj","Object","entries","key","is_complete","grid","i","j","randomInt","max","Math","floor","random","toInternal","sudoku","map","row","cell","db","Dexie","version","stores","unsolved","LittleDog","sprite","dogWalk","Dog","inputElementCoords","squareElementCoords","pickupNumber","canvas","onFinished","squareCoords","x","y","startCoords","width","coords","toString","imageStage","walking","completed","heldNumber","fabric","Text","fontFamily","fontSize","fill","Image","fromURL","getImage","img","scaleToWidth","set","left","setCoords","group","Group","add","renderAll","top","length","removeWithUpdate","setSrc","addWithUpdate","remove","nextImage","updateCoords","setTimeout","text","singleton","document","getElementById","getBoundingClientRect","height","Canvas","dogs","Set","counter","levels","from","sort","index","sortedLevels","endCoords","size","interval","setInterval","update","toRemove","dog","delete","clearInterval","Cell","onClick","numberRef","createRef","rect","current","DogController","addLevel","cb","column","position","active","ref","noteTopLeft","noteBottomLeft","noteTopRight","noteBottomRight","Button","InputButton","emptyGrid","e","predefined","exampleStates","Game","complete","selected","latestInput","resetTimer","exampleState","history","middleRef","celebrationInterval","onSelect","onInput","undo","onKeyPress","onKeyDown","nextExampleState","onGeneratedGame","sourceLow","sourceHigh","targetLow","targetHigh","parseInt","getGridById","worker","addEventListener","match","params","mappedDifficulty","min","round","postMessage","removeEventListener","table","date","Date","data","then","location","href","includes","reverse","toArray","get","entry","preventDefault","prevState","time","clearTimeout","recordHistory","num","col_idx","col","xRegion","yRegion","region","isComplete","removeItem","addDog","startCelebration","pop","back","row_idx","getTime","display","withRouter","UnsolvedEntry","deleted","onDelete","UnsolvedList","updateUnsolved","Boolean","hostname","GameById","useParams","NewGame","ReactDOM","render","TransitionGroup","component","CSSTransition","classNames","timeout","path","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.7664db95.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dog-still.2f9a8692.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABuCAYAAADFwOqWAAADIklEQVR42u3dwW0TQRSA4ZnQAVDAuobQQ06hDXxKMTmFNvApPUANdgGEDmC4eME2VvTWzHrH628uRqPIsXc//jeSZSWXUlLLK+fc9gucaJVScs75ppTyq3/cXq8m9jJYYIFlgQUWWGCBBZYFFlhggQUWWBZYYIHVKITFYtFfyJRzPry4k+/1/9593F6HUfc2m03TUMECCyywwAILLLDAAgsssMACCyywwAILLLDAqgWmh1BrPd2/7V9BSunwJQzfW65+TALr88f3Va/Lpy/fJ4EaBTgKrMOLfewGRPee7t9VvSHL1csYn9uF3kdJJeWU/zymlE7eW65eql7n9Xodfbtv9gDlfLN9vr09xVIsxVIsxVIsxQILLKPQKDQKFUuxFEuxFEuxLqJYR+7CWcCcWgUf6Uy7FwU4Cqyaib6EVfv9trwXHZmKpViKpViKpViKBRZYRqFRaBQqlmIplmIplmI5vL+yovKjX6ao/Xy1YUVvSNd1kzwfWGDNC1bXdWE0tS9MZNV+viELLMVSLLDAAgsssMACy+Hd4V2xFAsssMAaH9ZUX6aYCsJcPtKZCmrz34QGC6xBsMZIeevr2mAZhYplFIIFFlhggQWWw7vDu8O7YimWUQgWWGCBBRZYDu8O7w7viqVYYIEFFlhggQWWw7vDu8O7YhmFYIE1Lqzoen647V9peu0PCNw9fptkXD4/fAj93N3j16q/FyywwDrnG2n9xg17fWUHeT9e9/cuAdYsDu+KpVhggQUWWGCBBZbDu8O7w7tiGYVgzRZWdEUBhl9g8PmiNy66ojc4OuKie9HfGx5JA+5HVQcppZvK/zl/Bn8u9Eero8/3F9buTUsn78Vh3R5gKQeVHLYXLWrzsBRLsRRLsRRLsa68WGCBZRQahYqlWIqlWIqlWIp1pbCO4fjfvZoXsDbAqcC0vsYYhSk44sJ7u/vHfs+QEVx7ZP6L6jwjrnlYiqVYiqVYiqVYV14ssMAyCo1CxVIsxVIsxVIsxQLrrLBqAxyh4rMAc42jsOrIBEuxFEuxFEuxFAsssMAyCo1CxVIssBRLsRRLsea/fgMqOPdBBVP9QAAAAABJRU5ErkJggg==\"","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"6c160d89d42b3de1d4da.worker.js\");\n};","import React from 'react';\nimport './App.css';\nimport dog_image from './sprites/dog-still.png';\nimport { Link } from 'react-router-dom';\n\nfunction ButtonLink(props) {\n  return props.disabled\n    ?\n    <div className=\"App-button App-button-disabled\">\n      {props.children}\n    </div>\n    :\n    <Link to={props.to} style={{ textDecoration: 'none' }}>\n      <div className=\"App-button App-button-enabled\">\n        {props.children}\n      </div>\n    </Link>;\n}\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { difficulty: window.localStorage.getItem('difficulty') || 50 };\n  }\n\n  onDifficultyChanged(event) {\n    let difficulty = event.target.value;\n    this.setState({ difficulty: difficulty });\n    window.localStorage.setItem('difficulty', difficulty);\n  }\n\n  render() {\n    let currentId = window.localStorage.getItem('currentId');\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img className=\"App-title-image\" src={dog_image} alt=\"\" />\n          <h1>\n            DACHSHUN-DOKU\n          </h1>\n          <section className=\"App-buttons\">\n            <ButtonLink to={`/game/${currentId}`} disabled={!currentId}>continue</ButtonLink>\n            <ButtonLink to={`/new/${this.state.difficulty}`}>new sudoku</ButtonLink>\n\n            <div>\n              <input type=\"range\" id=\"difficulty-slider\" step=\"10\" defaultValue={this.state.difficulty} onChange={this.onDifficultyChanged.bind(this)} />\n              difficulty\n            </div>\n\n            <ButtonLink to=\"/unsolved\">unsolved</ButtonLink>\n          </section>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export default function deepCopy(arr) {\r\n    let copy = [];\r\n    arr.forEach(elem => {\r\n        if (Array.isArray(elem)) {\r\n            copy.push(deepCopy(elem))\r\n        } else {\r\n            if (typeof elem === 'object') {\r\n                copy.push(deepCopyObject(elem))\r\n            } else {\r\n                copy.push(elem)\r\n            }\r\n        }\r\n    })\r\n    return copy;\r\n}\r\n// Helper function to deal with Objects\r\nconst deepCopyObject = (obj) => {\r\n    if (obj === null) return null;\r\n    let tempObj = {};\r\n    for (let [key, value] of Object.entries(obj)) {\r\n        if (Array.isArray(value)) {\r\n            tempObj[key] = deepCopy(value);\r\n        } else {\r\n            if (typeof value === 'object') {\r\n                tempObj[key] = deepCopyObject(value);\r\n            } else {\r\n                tempObj[key] = value\r\n            }\r\n        }\r\n    }\r\n    return tempObj;\r\n}\r\n","import deepCopy from './deep-copy';\n\nfunction can_place(grid, row, column, n) {\n    for (let i = 0; i < 9; i++) {\n        if (grid[row][i] === n || grid[i][column] === n) {\n            return false;\n        }\n    }\n\n    for (let i = 0; i < 3; i++) {\n        for (let j = 0; j < 3; j++) {\n            if (grid[(row - row % 3) + i][(column - column % 3) + j] === n) {\n                return false;\n            }\n        }\n    }\n\n    return true;\n}\n\nfunction is_complete(grid) {\n    for (let i = 0; i < 9; i++) {\n        for (let j = 0; j < 9; j++) {\n            if (grid[i][j] === 0) {\n                return false;\n            }\n        }\n    }\n\n    return true;\n}\n\nfunction find_empty_square(grid) {\n    for (let i = 0; i < 9; i++) {\n        for (let j = 0; j < 9; j++) {\n            if (grid[i][j] === 0) {\n                return [i, j];\n            }\n        }\n    }\n\n    return null;\n}\n\nfunction shuffle(array) {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * i)\n        const temp = array[i]\n        array[i] = array[j]\n        array[j] = temp\n    }\n\n    return array;\n}\n\nfunction solve(grid) {\n    if (is_complete(grid)) {\n        return true;\n    }\n\n    let [row, column] = find_empty_square(grid);\n\n    let mapping = shuffle([1, 2, 3, 4, 5, 6, 7, 8, 9]);\n\n    for (let pos = 0; pos < 9; pos++) {\n        let digit = mapping[pos];\n\n        if (can_place(grid, row, column, digit)) {\n            grid[row][column] = digit;\n\n            if (solve(grid)) {\n                return grid;\n            }\n\n            grid[row][column] = 0;\n        }\n    }\n\n    return null;\n}\n\nfunction has_unique_solution(grid) {\n    let has_solution = false;\n\n    // returns and propagates true if a second solution is encountered\n    function check(grid) {\n        if (is_complete(grid)) {\n            if (has_solution) {\n                return true;\n            } else {\n                has_solution = true;\n                return false;\n            }\n        }\n\n        let [row, column] = find_empty_square(grid);\n        let mapping = shuffle([1, 2, 3, 4, 5, 6, 7, 8, 9]);\n\n        for (let pos = 0; pos < 9; pos++) {\n            let digit = mapping[pos];\n\n            if (can_place(grid, row, column, digit)) {\n                grid[row][column] = digit;\n\n                if (check(grid)) {\n                    return true;\n                }\n\n                grid[row][column] = 0;\n            }\n        }\n\n        return false;\n    }\n\n    return !check(grid) && has_solution;\n}\n\nfunction emptyGrid(rows, columns) {\n    return Array(rows).fill().map(() => Array(columns).fill(0));\n}\n\nexport function randomInt(max) {\n    return Math.floor(Math.random() * Math.floor(max));\n}\n\nexport function formatSudoku(sudoku) {\n    let grid = toInternal(sudoku);\n    return grid.map(row => row.map(c => c === 0 ? ' ' : c).join(\" \")).join(\"\\n\");\n}\n\nexport function generateSudoku(difficulty) {\n    let grid = solve(emptyGrid(9, 9));\n\n    let startTime = new Date();\n\n    function timeElapsed() {\n        return (new Date() - startTime) > 500;\n    }\n\n    for (let i = 0; i < difficulty; i++) {\n        for (let counter = 0; counter < 10000 && !timeElapsed(); counter++) {\n            let row, column;\n            do {\n                row = randomInt(9);\n                column = randomInt(9);\n            } while (grid[row][column] === 0 && !timeElapsed());\n\n            let oldValue = grid[row][column];\n            grid[row][column] = 0;\n            if (has_unique_solution(deepCopy(grid))) {\n                break;\n            } else {\n                grid[row][column] = oldValue;\n            }\n        }\n    }\n\n    return grid.map(row =>\n        row.map(cell =>\n            cell === 0\n                ? { predefined: false, value: null }\n                : { predefined: true, value: cell }));;\n}\n\nfunction toInternal(sudoku) {\n    return sudoku.map(row => row.map(cell => cell.value || 0));\n}\n\nexport function isComplete(sudoku) {\n    let grid = toInternal(sudoku);\n\n    if (!is_complete(grid)) {\n        return false;\n    }\n\n    for (let row of grid) {\n        for (let num = 1; num < 10; num++) {\n            if (!row.includes(num)) {\n                return false;\n            }\n        }\n    }\n\n    for (let col_idx = 0; col_idx < 9; col_idx++) {\n        let col = grid.map(row => row[col_idx]);\n        for (let num = 1; num < 10; num++) {\n            if (!col.includes(num)) {\n                return false;\n            }\n        }\n    }\n\n    for (let xRegion = 0; xRegion < 3; xRegion++) {\n        for (let yRegion = 0; yRegion < 3; yRegion++) {\n\n            let region = [];\n            for (let i = 0; i < 3; i++) {\n                for (let j = 0; j < 3; j++) {\n                    region.push(grid[3 * xRegion + i][3 * yRegion + j]);\n                }\n            }\n\n            for (let num = 1; num < 10; num++) {\n                if (!region.includes(num)) {\n                    return false;\n                }\n            }\n        }\n    }\n\n    return true;\n}","import Dexie from 'dexie';\r\n\r\nconst db = new Dexie('sudoku');\r\ndb.version(1).stores({\r\n    unsolved: `++id,date,grid`\r\n});\r\n\r\nexport default db;","import React from 'react';\r\nimport sprite from './sprites/dog-little.png';\r\n\r\nexport default function LittleDog(props) {\r\n  return <img src={sprite} alt=\"\" className=\"App-little-dog\" />;\r\n}","import { fabric } from 'fabric';\r\n\r\n//const dogStill = { left: '/sprites/dog-still-left.png', right: '/sprites/dog-still-right.png' };\r\n/*const dogWalk = {\r\n  left: ['/sprites/dog-walk-left-1.png', '/sprites/dog-walk-left-2.png', '/sprites/dog-walk-left-3.png', '/sprites/dog-walk-left-2.png'],\r\n  right: ['/sprites/dog-walk-right-1.png', '/sprites/dog-walk-right-2.png', '/sprites/dog-walk-right-3.png', '/sprites/dog-walk-right-2.png']\r\n};*/\r\n\r\nconst dogStill = '/sprites/dog-still-left.png';\r\nconst dogWalk = ['/sprites/dog-walk-left-1.png', '/sprites/dog-walk-left-2.png', '/sprites/dog-walk-left-3.png', '/sprites/dog-walk-left-2.png'];\r\n\r\nconst spriteWidth = 150;\r\n\r\nexport default class Dog {\r\n  constructor(inputElementCoords, squareElementCoords, pickupNumber, canvas, onFinished) {\r\n    this.canvas = canvas;\r\n    this.onFinished = onFinished;\r\n\r\n    this.squareCoords = {\r\n      x: squareElementCoords.x + 12,\r\n      y: squareElementCoords.y - 18\r\n    };\r\n\r\n    this.startCoords = {\r\n      x: canvas.width,\r\n      y: this.squareCoords.y\r\n    };\r\n\r\n    this.coords = { ...this.startCoords };\r\n\r\n    this.pickupNumber = pickupNumber.toString();\r\n    this.imageStage = 0;\r\n    this.walking = true;\r\n\r\n    this.completed = false;\r\n\r\n    this.heldNumber = new fabric.Text(this.pickupNumber, {\r\n      fontFamily: \"ConnectionII\",\r\n      fontSize: 30,\r\n      fill: 'rgb(56,56,56)'\r\n    });\r\n\r\n    fabric.Image.fromURL(this.getImage(), img => {\r\n\r\n      this.sprite = img;\r\n      this.sprite.scaleToWidth(spriteWidth);\r\n      this.sprite.set({\r\n        left: 20\r\n      });\r\n      this.sprite.setCoords();\r\n\r\n      this.group = new fabric.Group([this.heldNumber, this.sprite]);\r\n      this.setCoords();\r\n\r\n      canvas.add(this.group).renderAll();\r\n    });\r\n  };\r\n\r\n  setCoords() {\r\n    this.group.set({\r\n      left: this.coords.x,\r\n      top: this.coords.y,\r\n    });\r\n\r\n    this.group.setCoords();\r\n  }\r\n\r\n  updateCoords() {\r\n    if (this.walking) {\r\n      this.coords.x -= 20;\r\n    }\r\n\r\n    this.setCoords();\r\n  }\r\n\r\n  getImage() {\r\n    return this.walking ? dogWalk[this.imageStage] : dogStill;\r\n  }\r\n\r\n  nextImage() {\r\n    if (this.walking) {\r\n      this.imageStage = (this.imageStage + 1) % dogWalk.length;\r\n    }\r\n\r\n    // force sprite change\r\n    this.group.removeWithUpdate(this.sprite);\r\n\r\n    this.sprite.setSrc(this.getImage());\r\n    this.group.addWithUpdate(this.sprite);\r\n  }\r\n\r\n  update() {\r\n    if (!this.group) return;\r\n    if (this.completed) {\r\n      this.canvas.remove(this.group);\r\n      return \"delete\";\r\n    }\r\n\r\n    this.nextImage();\r\n    this.updateCoords();\r\n\r\n    if (this.coords.x < this.squareCoords.x) {\r\n      this.walking = false;\r\n      setTimeout(() => this.walking = true, 2000);\r\n      this.heldNumber.set({ text: '' })\r\n      this.onFinished();\r\n    } else if (this.coords.x <= -this.group.width) {\r\n      this.completed = true;\r\n    }\r\n  }\r\n}","import { fabric } from 'fabric';\r\nimport Dog from './Dog';\r\n\r\nclass DogController {\r\n    constructor() {\r\n        let { width, height } = document.getElementById(\"root\").getBoundingClientRect();\r\n        this.canvas = new fabric.Canvas('base-canvas', { width, height });\r\n        this.dogs = new Set();\r\n        this.counter = 0;\r\n        this.levels = new Set();\r\n    }\r\n\r\n    addLevel(y) {\r\n        this.levels.add(y);\r\n    }\r\n\r\n    sortedLevels() {\r\n        return Array.from(this.levels).sort();\r\n    }\r\n\r\n    getLevel(index) {\r\n        return this.sortedLevels()[index];\r\n    }\r\n\r\n    addDog(startCoords, pickupNumber, endCoords, onFinished) {\r\n        if (this.dogs.size === 0) {\r\n            this.interval = setInterval(() => this.update(), 400);\r\n        }\r\n\r\n        this.dogs.add(new Dog(startCoords, endCoords, pickupNumber, this.canvas, onFinished));\r\n    }\r\n\r\n    update() {\r\n        let toRemove = new Set();\r\n\r\n        for (let dog of this.dogs) {\r\n            if (dog.update() === \"delete\") {\r\n                toRemove.add(dog);\r\n            }\r\n        }\r\n\r\n        for (let dog of toRemove) {\r\n            this.dogs.delete(dog);\r\n        }\r\n\r\n        if (this.dogs.size === 0) {\r\n            clearInterval(this.interval);\r\n        }\r\n\r\n        this.canvas.renderAll();\r\n    }\r\n}\r\n\r\nlet singleton = new DogController();\r\nexport default singleton;","import React from 'react';\r\nimport './App.css';\r\nimport { isComplete, randomInt } from './sudoku';\r\nimport db from './db';\r\nimport LittleDog from './LittleDog';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport DogController from './DogController';\r\nimport deepCopy from './deep-copy';\r\n/* eslint-disable import/no-webpack-loader-syntax */\r\nimport Worker from 'worker-loader!./worker.js';\r\n\r\nexport class Cell extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onClick = this.onClick.bind(this);\r\n    this.numberRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    let rect = this.numberRef.current.getBoundingClientRect();\r\n    DogController.addLevel(rect.y + rect.height);\r\n  }\r\n\r\n  onClick() {\r\n    this.props.cb({ row: this.props.row, column: this.props.column, position: this.numberRef.current.getBoundingClientRect() });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <td\r\n        onClick={this.onClick}\r\n        className={this.props.active ? \"active\" : null}\r\n        ref={this.numberRef}>\r\n        <span className={\"App-square-top-left\"}>{this.props.cell.noteTopLeft}</span>\r\n        <span className={\"App-square-bottom-left\"}>{this.props.cell.noteBottomLeft}</span>\r\n        <span>{this.props.cell.value}</span>\r\n        <span className={\"App-square-top-right\"}>{this.props.cell.noteTopRight}</span>\r\n        <span className={\"App-square-bottom-right\"}>{this.props.cell.noteBottomRight}</span>\r\n      </td>\r\n    );\r\n  }\r\n}\r\n\r\nclass Button extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { active: false };\r\n    this.onClick = this.onClick.bind(this);\r\n    this.numberRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    let rect = this.numberRef.current.getBoundingClientRect();\r\n    DogController.addLevel(rect.y + rect.height);\r\n  }\r\n\r\n  onClick() {\r\n    this.setState({ active: true })\r\n    this.props.cb(this.numberRef.current.getBoundingClientRect());\r\n    setTimeout(() => {\r\n      this.setState({ active: false });\r\n    }, 500);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <td onClick={this.onClick} className={this.state.active ? \"active\" : null} ref={this.numberRef}>{this.props.children}</td>\r\n    )\r\n  }\r\n}\r\n\r\nfunction InputButton(props) {\r\n  return <Button cb={(position) => props.cb({ value: props.value, position })}>{props.children}</Button>\r\n}\r\n\r\nconst emptyGrid = [...Array(9)].map(e => Array(9).fill({ predefined: true, value: null }));\r\nconst exampleStates = [\"App-example-main\", \"App-example-top-right\", \"App-example-top-left\"];\r\nclass Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      grid: null,\r\n      complete: false,\r\n      selected: null,\r\n      latestInput: null,\r\n      resetTimer: null,\r\n      exampleState: 0,\r\n    };\r\n    this.history = [];\r\n\r\n    this.middleRef = React.createRef();\r\n    this.celebrationInterval = null;\r\n\r\n    this.onSelect = this.onSelect.bind(this);\r\n    this.onInput = this.onInput.bind(this);\r\n    this.undo = this.undo.bind(this);\r\n    this.onKeyPress = this.onKeyPress.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.nextExampleState = this.nextExampleState.bind(this);\r\n    this.onGeneratedGame = this.onGeneratedGame.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    let rect = this.middleRef.current.getBoundingClientRect();\r\n    DogController.addLevel(rect.y + rect.height);\r\n\r\n    if (this.props.id) {\r\n      this.id = parseInt(this.props.id, 10);\r\n      this.getGridById(this.id);\r\n    } else if (this.props.difficulty) {\r\n      function mapRange(value, sourceLow, sourceHigh, targetLow, targetHigh) {\r\n        return Math.min(targetHigh, Math.max(targetLow, Math.round(value / (sourceHigh - sourceLow) * (targetHigh - targetLow)) + targetLow));\r\n      }\r\n      this.worker = new Worker();\r\n      this.worker.addEventListener('message', this.onGeneratedGame);\r\n      let difficulty = parseInt(this.props.match.params.difficulty, 10);\r\n      let mappedDifficulty = mapRange(difficulty, 0, 100, window.localStorage.getItem(\"testMode\") ? 2 : 40, 75);\r\n      this.worker.postMessage(mappedDifficulty);\r\n    }\r\n\r\n    document.addEventListener('keypress', this.onKeyPress);\r\n    document.addEventListener('keydown', this.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keypress', this.onKeyPress);\r\n    document.removeEventListener('keydown', this.onKeyDown);\r\n    this.worker && this.worker.removeEventListener('message', this.onGeneratedGame);\r\n    if (this.celebrationInterval) {\r\n      clearInterval(this.celebrationInterval);\r\n      this.celebrationInterval = null;\r\n    }\r\n  }\r\n\r\n  onGeneratedGame(e) {\r\n    db.table('unsolved')\r\n      .add({ date: new Date(), grid: e.data })\r\n      .then(id => {\r\n        this.id = id;\r\n        if (window.location.href.includes(\"new\")) {\r\n          // why are 2 games generated instead of 1...\r\n          setTimeout(() => {\r\n            db.table(\"unsolved\").reverse().toArray().then(entries => {\r\n              if (entries[0].id === id && entries.length > 1) {\r\n                db.table(\"unsolved\").delete(id);\r\n                window.localStorage.setItem('currentId', entries[1].id);\r\n              }\r\n            });\r\n          }, 500);\r\n        }\r\n        this.getGridById(id);\r\n      });\r\n  }\r\n\r\n  getGridById(id) {\r\n    db.table('unsolved')\r\n      .get(id, entry => {\r\n        if (entry) {\r\n          window.localStorage.setItem('currentId', entry.id);\r\n          this.setState({ grid: entry.grid });\r\n        } else {\r\n          this.props.history.push(\"/\");\r\n        }\r\n      });\r\n  }\r\n\r\n  onSelect(position) {\r\n    this.setState({ selected: position });\r\n  }\r\n\r\n  onKeyPress(event) {\r\n    if (\"0123456789\".includes(event.key)) {\r\n      this.onInput(parseInt(event.key, 10));\r\n    }\r\n    event.preventDefault();\r\n  }\r\n\r\n  onKeyDown(event) {\r\n    switch (event.key) {\r\n      case \"ArrowRight\":\r\n        this.setState((prevState, props) => ({\r\n          selected: {\r\n            row: prevState.selected ? prevState.selected.row : 0,\r\n            column: Math.min((prevState.selected ? prevState.selected.column : -1) + 1, 8)\r\n          }\r\n        }));\r\n        break;\r\n      case \"ArrowLeft\":\r\n        this.setState((prevState, props) => ({\r\n          selected: {\r\n            row: prevState.selected ? prevState.selected.row : 0,\r\n            column: Math.max((prevState.selected ? prevState.selected.column : 9) - 1, 0)\r\n          }\r\n        }));\r\n        break;\r\n      case \"ArrowDown\":\r\n        this.setState((prevState, props) => ({\r\n          selected: {\r\n            row: Math.min((prevState.selected ? prevState.selected.row : -1) + 1, 8),\r\n            column: prevState.selected ? prevState.selected.column : 0\r\n          }\r\n        }));\r\n        break;\r\n      case \"ArrowUp\":\r\n        this.setState((prevState, props) => ({\r\n          selected: {\r\n            row: Math.max((prevState.selected ? prevState.selected.row : 9) - 1, 0),\r\n            column: prevState.selected ? prevState.selected.column : 0\r\n          }\r\n        }));\r\n        break;\r\n      case \" \":\r\n        this.nextExampleState();\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n\r\n  onInput(data) {\r\n    if (this.state.celebrationInterval) return;\r\n    let { value, position } = data;\r\n    if (this.state.selected) {\r\n      if (value && !this.state.grid[this.state.selected.row][this.state.selected.column].predefined) {\r\n        this.setState({ latestInput: { value, time: new Date() } });\r\n        if (this.state.resetTimer) {\r\n          clearTimeout(this.state.resetTimer);\r\n        }\r\n        this.setState({ resetTimer: setTimeout(() => this.setState({ latestInput: null }), 2000) });\r\n      }\r\n\r\n      this.update(value, this.state.selected, true, position, this.state.selected.position);\r\n    }\r\n  }\r\n\r\n  update(value, position, recordHistory, startCoords, endCoords) {\r\n    let cell = this.state.grid[position.row][position.column];\r\n    if (!cell.predefined) {\r\n      if (recordHistory) {\r\n        this.history.push({\r\n          position, value: cell.value,\r\n          noteTopLeft: cell.noteTopLeft || null,\r\n          noteTopRight: cell.noteTopRight || null,\r\n          noteBottomLeft: cell.noteBottomLeft || null,\r\n          noteBottomRight: cell.noteBottomRight || null\r\n        });\r\n      }\r\n\r\n      let grid = deepCopy(this.state.grid);\r\n\r\n      switch (exampleStates[this.state.exampleState]) {\r\n        case \"App-example-main\":\r\n          grid[position.row][position.column].value = value;\r\n          break;\r\n        case \"App-example-top-right\":\r\n          grid[position.row][position.column].noteTopRight = value;\r\n          break;\r\n        case \"App-example-top-left\":\r\n          grid[position.row][position.column].noteTopLeft = value;\r\n          break;\r\n        case \"App-example-bottom-right\":\r\n          grid[position.row][position.column].noteBottomRight = value;\r\n          break;\r\n        case \"App-example-bottom-left\":\r\n          grid[position.row][position.column].noteBottomLeft = value;\r\n          break;\r\n        default:\r\n      }\r\n\r\n\r\n      db.table('unsolved').update(this.id, { grid: grid });\r\n\r\n      let is_complete = isComplete(grid);\r\n      if (is_complete) {\r\n        window.localStorage.removeItem(\"currentId\");\r\n        db.table('unsolved').delete(this.id);\r\n        DogController.addDog(startCoords, value, endCoords,\r\n          () => {\r\n            this.setState({ grid: grid, complete: is_complete });\r\n            this.startCelebration();\r\n          });\r\n      } else {\r\n        this.setState({ grid: grid, complete: is_complete })\r\n      }\r\n    }\r\n  }\r\n\r\n  undo() {\r\n    if (this.history.length > 0) {\r\n      let { position, value } = this.history.pop();\r\n      this.update(value, position, false);\r\n    }\r\n  }\r\n\r\n  nextExampleState() {\r\n    this.setState((prevState, props) => ({ exampleState: prevState.exampleState + 1 === exampleStates.length ? 0 : prevState.exampleState + 1 }));\r\n  }\r\n\r\n  startCelebration() {\r\n    if (this.celebrationInterval) return;\r\n    this.celebrationInterval = setInterval(() => {\r\n      this.setState({ latestInput: { value: randomInt(8) + 1, time: new Date() } });\r\n    }, 1000);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className={`App-title-bar ${this.state.complete ? \"App-complete-green\" : \"\"}`}>\r\n          <h1 className=\"App-navigation-button\" onClick={() => window.history.back()}>&lt;</h1>\r\n          <h1>{this.state.complete ? \"WOOF WOOF!\" : \"DACHSHUN-DOKU\"}</h1>\r\n          <h1 className=\"App-navigation-button\"> </h1>\r\n        </div>\r\n        <div className=\"App-body\">\r\n          <table>\r\n            <tbody>\r\n              {(this.state.grid || emptyGrid).map((row, row_idx) =>\r\n                <tr key={row_idx}>\r\n                  {row.map((cell, col_idx) => (\r\n                    <Cell\r\n                      key={(row_idx + 1) * 10 + col_idx}\r\n                      cell={cell}\r\n                      row={row_idx}\r\n                      column={col_idx}\r\n                      cb={this.onSelect}\r\n                      active={this.state.selected\r\n                        ? (this.state.selected.row === row_idx || this.state.selected.column === col_idx)\r\n                        : false} />\r\n                  ))}\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className={`App-title-bar App-middle ${this.state.complete ? \"App-complete-green\" : \"\"}`} ref={this.middleRef}>\r\n          {this.state.latestInput && this.state.latestInput.value &&\r\n            [...Array(this.state.latestInput.value)].map((e, i) => <LittleDog key={this.state.latestInput.time.getTime() + i} />)}\r\n        </div>\r\n        <div className=\"App-controls-container\">\r\n          <table className=\"App-controls\">\r\n            <tbody>\r\n              <tr>\r\n                <InputButton value={1} cb={this.onInput}>1</InputButton>\r\n                <InputButton value={2} cb={this.onInput}>2</InputButton>\r\n                <InputButton value={3} cb={this.onInput}>3</InputButton>\r\n              </tr>\r\n              <tr>\r\n                <InputButton value={4} cb={this.onInput}>4</InputButton>\r\n                <InputButton value={5} cb={this.onInput}>5</InputButton>\r\n                <InputButton value={6} cb={this.onInput}>6</InputButton>\r\n              </tr>\r\n              <tr>\r\n                <InputButton value={7} cb={this.onInput}>7</InputButton>\r\n                <InputButton value={8} cb={this.onInput}>8</InputButton>\r\n                <InputButton value={9} cb={this.onInput}>9</InputButton>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <div className=\"App-example-square\" onClick={this.nextExampleState} style={{ display: \"none\" }}>\r\n                    Blocking this for now\r\n                    <span className={exampleStates[this.state.exampleState]}>#</span>\r\n                  </div>\r\n                </td>\r\n                <InputButton value={null} cb={this.onInput}>X</InputButton>\r\n                <Button cb={this.undo}>&lt;</Button>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Game);","import React from \"react\";\r\nimport { Cell } from \"./Game\";\r\nimport db from \"./db\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass UnsolvedEntry extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { deleted: false };\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n\r\n  onClick() {\r\n    this.setState({ deleted: true });\r\n    setTimeout(() => this.props.onDelete(this.props.entry.id), 300);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.state.deleted ? \"App-unsolved-entry-deleted\" : null}>\r\n        <span className=\"App-unsolved-delete\" onClick={() => this.onClick()}>X</span>\r\n        <table onClick={() => this.props.history.push(`/game/${this.props.entry.id}`)}>\r\n          <tbody>\r\n            {this.props.entry.grid.map((row, row_idx) =>\r\n              <tr key={row_idx}>\r\n                {row.map((cell, col_idx) => (\r\n                  <Cell\r\n                    key={(row_idx + 1) * 10 + col_idx}\r\n                    cell={cell}\r\n                    row={row_idx}\r\n                    column={col_idx}\r\n                    cb={() => { }}\r\n                  />\r\n                ))}\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nUnsolvedEntry = withRouter(UnsolvedEntry);\r\n\r\nclass UnsolvedList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { entries: null }\r\n    this.delete = this.delete.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateUnsolved();\r\n  }\r\n\r\n  updateUnsolved() {\r\n    db.table(\"unsolved\").reverse().toArray().then(entries => this.setState({ entries }))\r\n  }\r\n\r\n  delete(id) {\r\n    if (parseInt(window.localStorage.getItem(\"currentId\"), 10) === id) {\r\n      window.localStorage.removeItem(\"currentId\");\r\n    }\r\n    db.table(\"unsolved\").delete(id).then(e => this.updateUnsolved());\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"App-title-bar\">\r\n          <h1 className=\"App-navigation-button\" onClick={() => window.history.back()}>&lt;</h1>\r\n          <h1>UNSOLVED</h1>\r\n          <h1 className=\"App-navigation-button\"> </h1>\r\n        </div>\r\n        <div className=\"App-body App-body-unsolved\">\r\n          {this.state.entries && this.state.entries.map(entry => <UnsolvedEntry key={entry.id} entry={entry} onDelete={this.delete} />)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UnsolvedList);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport Game from './Game';\r\nimport UnsolvedList from './UnsolvedList';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  useParams\r\n} from \"react-router-dom\";\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\n\r\nfunction GameById(props) {\r\n  let { id } = useParams();\r\n  return <Game key={id} id={id} />\r\n}\r\n\r\nfunction NewGame(props) {\r\n  let { difficulty } = useParams();\r\n  return <Game difficulty={difficulty} />\r\n}\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Route render={location => {\r\n      const { key } = location.location;\r\n      return (\r\n        <TransitionGroup component={null}>\r\n          <CSSTransition key={key} classNames=\"fade\" timeout={300}>\r\n            <Switch>\r\n              <Route path=\"/dachshun-doku/new/:difficulty\">\r\n                <NewGame />\r\n              </Route>\r\n\r\n              <Route path=\"/dachshun-doku/game/:id\">\r\n                <GameById />\r\n              </Route>\r\n\r\n              <Route path=\"/dachshun-doku/unsolved\">\r\n                <UnsolvedList />\r\n              </Route>\r\n\r\n              <Route path=\"/dachshun-doku/\">\r\n                <App />\r\n              </Route>\r\n            </Switch>\r\n          </CSSTransition>\r\n        </TransitionGroup>\r\n      );\r\n    }} />\r\n  </Router>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}